<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.repos.MonthlyRepo">

    <insert id="createSchedule">
        INSERT INTO
        monthly(title
                ,explanation
                ,start_year
                ,start_month
                ,start_day
                ,end_year
                ,end_month
                ,end_day
                ,start_hour
                ,start_minute
                ,start_sign
                ,end_hour
                ,end_minute
                ,end_sign
                ,repeat_month
                ,all_day)
        VALUES(#{title}
                ,#{explanation}
                ,#{start_year}
                ,#{start_month}
                ,#{start_day}
                ,#{end_year}
                ,#{end_month}
                ,#{end_day}
                ,#{start_hour}
                ,#{start_minute}
                ,#{start_sign}
                ,#{end_hour}
                ,#{end_minute}
                ,#{end_sign}
                ,#{repeat_month}
                ,#{all_day})
    </insert>


    <select id="getScheduleList" resultType="com.example.demo.domain.MonthlyDTO"  >
        SELECT
            title
            ,explanation
            ,start_year
            ,start_month
            ,start_day
            ,end_year
            ,end_month
            ,end_day
            ,start_hour
            ,start_minute
            ,start_sign
            ,end_hour
            ,end_minute
            ,end_sign
            ,repeat_month
            ,all_day
        FROM
            monthly
        WHERE
            start_year LIKE #{year} AND start_month LIKE #{month}
        ORDER BY
            start_year
            ,start_month
            ,start_day
            ,start_hour
            ,start_minute
            ,start_sign
    </select>
</mapper>